({345:function(){var e=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(l,a){function i(e){try{d(o.next(e))}catch(e){a(e)}}function s(e){try{d(o.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}d((o=o.apply(e,t||[])).next())}))};const t=document.createElement("div"),n=document.createElement("button"),o=document.createElement("div"),l=document.createElement("div"),a=document.createElement("h3"),i=document.createElement("div"),s=document.createElement("label"),d=document.createElement("input"),c=document.createElement("label"),r=document.createElement("input"),p=document.createElement("label"),m=document.createElement("label"),y=document.createElement("label"),u=document.createElement("label"),h=document.createElement("textarea"),x=document.createElement("button");t.style.position="fixed",t.style.bottom="20px",t.style.right="20px",t.style.backgroundColor="#333",t.style.color="#fff",t.style.padding="10px",t.style.borderRadius="5px",n.style.border="none",n.style.backgroundColor="transparent",n.style.color="#fff",n.style.fontWeight="bold",n.textContent="UyapBot",o.style.display="none",o.style.position="fixed",o.style.bottom="80px",o.style.right="20px",o.style.backgroundColor="#fff",o.style.color="#333",o.style.borderRadius="5px",o.style.width="300px",l.style.backgroundColor="#2196f3",l.style.color="#fff",l.style.padding="10px",a.style.margin="0",a.textContent="Uyap",i.style.margin="10px",s.textContent="Token:",s.style.display="block",s.style.marginBottom="5px",d.style.width="100%",d.style.padding="5px",d.style.marginBottom="10px",c.textContent="Max Limit:",c.style.display="block",c.style.marginBottom="5px",r.style.width="100%",r.style.padding="5px",r.style.marginBottom="10px",p.textContent="Message:",p.style.display="block",p.style.marginBottom="5px",m.textContent="Max Teklif:",m.style.display="block",m.style.marginBottom="5px",y.textContent="kullaniciMax Teklif:",y.style.display="block",y.style.marginBottom="5px",u.textContent="MinTeklifArtisMiktari Teklif:",u.style.display="block",u.style.marginBottom="5px",h.style.width="100%",h.style.padding="5px",h.style.resize="none",h.style.height="100px",h.style.marginBottom="10px",x.style.backgroundColor="#2196f3",x.style.color="#fff",x.style.border="none",x.style.padding="5px 10px",x.style.borderRadius="5px",x.style.float="right",x.textContent="Başlat",n.addEventListener("click",(()=>{o.style.display="none"===o.style.display?"block":"none"}));let f="",g=0,C=0,k=0,b=0,v=!1;function w(e){setInterval((()=>{p.textContent=function(e){const t=new Date(e).getTime()-(new Date).getTime();if(t<0)return"Expired";return`${Math.floor(t/864e5)} days ${Math.floor(t%864e5/36e5)} hours ${Math.floor(t%36e5/6e4)} minutes ${Math.floor(t%6e4/1e3)} seconds`}(e),M(f,!0)}),1e3)}function M(t,n){var o=new Headers;o.append("Accept","application/xml, text/xml, */*; q=0.01"),o.append("Accept-Language","tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7"),o.append("Connection","keep-alive"),o.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),o.append("Cookie",t),o.append("Origin","https://esatis.uyap.gov.tr"),o.append("Referer",window.location.href),o.append("Sec-Fetch-Dest","empty"),o.append("Sec-Fetch-Mode","cors"),o.append("Sec-Fetch-Site","same-origin"),o.append("User-Agent","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36"),o.append("X-Requested-With","XMLHttpRequest"),o.append("sec-ch-ua",'"Not?A_Brand";v="8", "Chromium";v="108", "Google Chrome";v="108"'),o.append("sec-ch-ua-mobile","?0"),o.append("sec-ch-ua-platform",'"macOS"');const l=new URLSearchParams(window.location.search).get("kayitId");fetch("https://esatis.uyap.gov.tr/main/jsp/esatis/ihale_detay_bilgileri_brd.ajx",{method:"POST",headers:o,body:"kayitId="+l,redirect:"follow"}).then((t=>e(this,void 0,void 0,(function*(){const e=yield t.text(),o=(new DOMParser).parseFromString(e,"text/xml");console.log("xmldoc",o);const l=o.querySelector("ihaleBitisZamani"),a=o.querySelector("sonTeklif"),i=o.querySelector("minTeklifArtisMiktari"),s=o.querySelector("kullaniciMaxTeklif");console.log("ihaleBitisZamani",l.textContent),console.log("maxTeklif",a.textContent),console.log("kullaniciMaxTeklif",s.textContent),n||(w(l.textContent),function(e){e=parseFloat(e),u.textContent=e,k=e,console.log("minTeklifArtisMiktariNum",k)}(i.textContent)),function(e){e=parseFloat(e),m.textContent=e,g=e,console.log("maxTeklifNum",g)}(null==a?void 0:a.textContent),function(e){e=parseFloat(e),y.textContent=e,b=e,console.log("kullaniciMaxTeklif",e)}(null==s?void 0:s.textContent),b&&b>0&&!v&&b<g&&b<C&&(console.log("ihale teklifi yapıldı"),v=!0,setTimeout((()=>{console.log("ihale teklifi timeout"),v=!1}),3e3))})))).catch((e=>console.log("error",e)))}x.addEventListener("click",(()=>{f=d.value.trim(),C=Number(r.value.trim());const e=h.value.trim();f&&C&&e?(console.log(`Name: ${f}`),console.log(`Email: ${C}`),console.log(`Message: ${e}`),M(f,!1)):alert("Please fill in all fields")})),chrome.runtime.sendMessage("I am loading content script",(f=>e(this,void 0,void 0,(function*(){console.log("response...:",f),console.log("I am content script"),t.appendChild(n),document.body.appendChild(t),l.appendChild(a),o.appendChild(l),i.appendChild(x),i.appendChild(s),i.appendChild(d),i.appendChild(c),i.appendChild(r),i.appendChild(p),i.appendChild(m),i.appendChild(y),i.appendChild(u),i.appendChild(h),o.appendChild(i),document.body.appendChild(o)})))),window.onload=e=>{console.log("page is fully loaded",window.location.href)}}})[345]();
